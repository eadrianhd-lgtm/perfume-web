<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Perfume Advisor</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <link rel="manifest" href="manifest.json">

  <style>
    body {
      margin: 0;
      font-family: 'Segoe UI', sans-serif;
      background: #f6f6f6;
    }

    /* Pantalla de bienvenida */
    .hero {
      height: 100vh;
      background: url("https://images.unsplash.com/photo-1523292562811-8fa7962a78c8?auto=format&fit=crop&w=1200") center/cover no-repeat;
      color: white;
      display: flex;
      align-items: center;
      justify-content: center;
      text-align: center;
    }

    .hero-content {
      background: rgba(0,0,0,0.6);
      padding: 25px;
      border-radius: 20px;
      animation: fadeIn 1.2s ease-in-out;
    }

    .title {
      font-size: 42px;
      animation: float 3s infinite ease-in-out;
    }

    .subtitle {
      opacity: 0.85;
      margin-bottom: 15px;
    }

    .icons span {
      display: inline-block;
      background: rgba(255,255,255,0.15);
      padding: 8px 12px;
      border-radius: 20px;
      margin: 4px;
      font-size: 13px;
    }

    .start-btn {
      margin-top: 15px;
      padding: 15px 35px;
      border: none;
      background: #fff;
      color: #000;
      border-radius: 30px;
      font-weight: bold;
      cursor: pointer;
    }

    .app-section {
      display: none;
      padding: 15px;
    }

    /* Notas */
    .notas-box {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 10px;
      margin: 15px 0;
    }

    .notas-box label {
      background: #fff;
      padding: 10px;
      border-radius: 12px;
      font-size: 14px;
      box-shadow: 0 2px 6px rgba(0,0,0,0.1);
    }

    select, button {
      width: 100%;
      padding: 12px;
      border-radius: 12px;
      margin: 10px 0;
      font-size: 15px;
    }

    /* Tarjetas */
    .cards {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
      gap: 14px;
    }

    .card {
      background: #fff;
      border-radius: 16px;
      padding: 12px;
      text-align: center;
      box-shadow: 0 6px 14px rgba(0,0,0,.1);
      animation: fadeUp .4s ease both;
    }

    .card img {
      width: 100%;
      height: 120px;
      object-fit: contain;
      border-radius: 12px;
    }

    .fav-btn {
      margin-top: 8px;
      border: none;
      border-radius: 20px;
      padding: 8px 12px;
      background: #000;
      color: #fff;
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(15px); }
      to { opacity: 1; transform: translateY(0); }
    }

    @keyframes float {
      0%,100% { transform: translateY(0); }
      50% { transform: translateY(-10px); }
    }

    @keyframes fadeUp {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }
  </style>
</head>

<body>

<!-- PANTALLA DE BIENVENIDA -->
<header class="hero">
  <div class="hero-content">
    <h1 class="title">Perfume Advisor</h1>
    <p class="subtitle">Descubre tu fragancia ideal</p>

    <div class="icons">
      <span>üå∏ Floral</span>
      <span>üçä C√≠trico</span>
      <span>üçØ Dulce</span>
      <span>ü™µ Amaderado</span>
    </div>

    <button onclick="showApp()" class="start-btn">Comenzar</button>
  </div>
</header>

<!-- APP -->
<div class="app-section" id="app">

  <h3>Selecciona el g√©nero</h3>
  <select id="genero">
    <option value="dama">Dama</option>
    <option value="caballero">Caballero</option>
  </select>

  <h3>Elige las notas que te gustan</h3>
  <div class="notas-box">
    <label><input type="checkbox" value="dulce"> Dulce</label>
    <label><input type="checkbox" value="floral"> Floral</label>
    <label><input type="checkbox" value="citrico"> C√≠trico</label>
    <label><input type="checkbox" value="amaderado"> Amaderado</label>
    <label><input type="checkbox" value="avainillado"> Avainillado</label>
    <label><input type="checkbox" value="almizcle"> Almizcle</label>
  </div>

  <button onclick="recomendarPerfume()">
    Buscar perfume perfecto
  </button>

  <div id="resultado"></div>
</div>

<script>
  // PWA
  if ("serviceWorker" in navigator) {
    navigator.serviceWorker.register("service-worker.js");
  }

  // Mostrar app
  function showApp() {
    document.querySelector(".hero").style.display = "none";
    document.getElementById("app").style.display = "block";
  }

  // Base de datos de perfumes
  const perfumesData = {
    dama: [
      { nombre: "Cloud Ariana Grande", notas: ["dulce","avainillado"], imagen: "https://via.placeholder.com/150?text=Cloud" },
      { nombre: "La Vida es Bella", notas: ["dulce","floral"], imagen: "https://via.placeholder.com/150?text=La+Vida" },
      { nombre: "Chanel 5", notas: ["floral","almizcle"], imagen: "https://via.placeholder.com/150?text=Chanel+5" },
      { nombre: "Fantasy Britney Spears", notas: ["dulce"], imagen: "https://via.placeholder.com/150?text=Fantasy" },
      { nombre: "Viva La Juicy", notas: ["dulce","avainillado"], imagen: "https://via.placeholder.com/150?text=Juicy" }
    ],
    caballero: [
      { nombre: "Sauvage Dior", notas: ["citrico","amaderado"], imagen: "https://via.placeholder.com/150?text=Sauvage" },
      { nombre: "Invictus", notas: ["fresco","amaderado"], imagen: "https://via.placeholder.com/150?text=Invictus" },
      { nombre: "One Million", notas: ["dulce","amaderado"], imagen: "https://via.placeholder.com/150?text=One+Million" },
      { nombre: "Aqua Di Gio", notas: ["citrico"], imagen: "https://via.placeholder.com/150?text=Aqua+Di+Gio" }
    ]
  };

  let favoritos = JSON.parse(localStorage.getItem("favoritos")) || [];

  function recomendarPerfume() {
    const genero = document.getElementById("genero").value;
    const seleccionadas = [...document.querySelectorAll('input[type="checkbox"]:checked')]
      .map(cb => cb.value);

    if (seleccionadas.length === 0) {
      alert("Selecciona al menos una nota");
      return;
    }

    const coincidencias = perfumesData[genero].filter(p =>
      seleccionadas.some(nota => p.notas.includes(nota))
    );

    const resultado = document.getElementById("resultado");
    resultado.innerHTML = "<div class='cards'></div>";
    const contenedor = resultado.querySelector(".cards");

    const barajados = coincidencias.sort(() => 0.5 - Math.random());
    const cantidad = Math.min(Math.floor(Math.random() * 3) + 1, barajados.length);
    const finales = barajados.slice(0, cantidad);

    finales.forEach(p => {
      const card = document.createElement("div");
      card.className = "card";
      card.innerHTML = `
        <img src="${p.imagen}">
        <h4>${p.nombre}</h4>
        <p>${p.notas.join(", ")}</p>
        <button class="fav-btn" onclick="guardarFavorito('${p.nombre}')">‚ù§Ô∏è Favorito</button>
      `;
      contenedor.appendChild(card);
    });
  }

  function guardarFavorito(nombre) {
    if (!favoritos.includes(nombre)) {
      favoritos.push(nombre);
      localStorage.setItem("favoritos", JSON.stringify(favoritos));
      alert("Agregado a favoritos ‚ù§Ô∏è");
    }
  }
</script>

</body>
	‚úì	</html>
